{
  "namespace": "ebu",
  "name": "ffmpeg-service",
  "provider": "azure",
  "displayName": "FFmpeg Service",
  "description": "FFmpeg as an MCMA service running on Azure Function Apps",
  "inputParameters": [
    {
      "name": "module_prefix",
      "type": "string"
    },
    {
      "name": "stage_name",
      "type": "string"
    },
    {
      "name": "log_group_name",
      "type": "string"
    },
    {
      "name": "aws_account_id",
      "type": "string"
    },
    {
      "name": "aws_region",
      "type": "string"
    },
    {
      "name": "service_registry",
      "type": "object"
    }
  ],
  "outputParameters": [
    {
      "name": "auth_type",
      "type": "string"
    },
    {
      "name": "job_assignments_url",
      "type": "string"
    }
  ],
  "deploymentActions": [
    {
      "type": "ManagedResource",
      "data": {
        "resourceName": "service",
        "resource": {
          "@type": "Service",
          "name": "FFmpeg Service",
          "resources": [
            {
              "@type": "ResourceEndpoint",
              "resourceType": "JobAssignment",
              "httpEndpoint": "${job_assignments_url}"
            }
          ],
          "authType": "${auth_type}"
        }
      }
    }
  ]
}
